(function(){"use strict";var __webpack_modules__={915:function(){eval("\n;// CONCATENATED MODULE: ./src/utils/utils.js\nconst createDomNode = (elem, ...classes) => {\r\n  const node = document.createElement(elem);\r\n  node.classList.add(...classes);\r\n  return node;\r\n};\r\n\n;// CONCATENATED MODULE: ./src/components/Key/Key.js\n\r\n\r\n\r\nclass Key {\r\n  constructor(objKey, ...classes) {\r\n    this.key = '';\r\n    this.objKey = objKey;\r\n    this.classes = classes;\r\n  }\r\n\r\n  createKey(lang) {\r\n    this.key = createDomNode('div', 'key', ...this.classes);\r\n    this.addInnerText(lang);\r\n    this.addCode();\r\n    return this.key;\r\n  }\r\n\r\n  addInnerText(lang) {\r\n    if (lang === 'en') {\r\n      this.key.innerText = this.objKey.charEn;\r\n    } else {\r\n      this.key.innerText = this.objKey.charRu;\r\n    }\r\n  }\r\n\r\n  addCode() {\r\n    if (!this.classes.includes('key_dark')) {\r\n      this.key.dataset.code = this.objKey.code;\r\n    }\r\n  }\r\n}\r\n\n;// CONCATENATED MODULE: ./src/components/Key/index.js\n\r\n\n;// CONCATENATED MODULE: ./src/utils/keys.js\nconst keys = {\r\n  Digit1: {\r\n    code: 'Digit1',\r\n    charRu: '1',\r\n    charEn: '1',\r\n    shiftRu: '!',\r\n    shiftEn: '!',\r\n  },\r\n  Digit2: {\r\n    code: 'Digit2',\r\n    charRu: '2',\r\n    charEn: '2',\r\n    shiftRu: '\"',\r\n    shiftEn: '@',\r\n  },\r\n  Digit3: {\r\n    code: 'Digit3',\r\n    charRu: '3',\r\n    charEn: '3',\r\n    shiftRu: '№',\r\n    shiftEn: '#',\r\n  },\r\n  Digit4: {\r\n    code: 'Digit4',\r\n    charRu: '4',\r\n    charEn: '4',\r\n    shiftRu: ';',\r\n    shiftEn: '$',\r\n  },\r\n  Digit5: {\r\n    code: 'Digit5',\r\n    charRu: '5',\r\n    charEn: '5',\r\n    shiftRu: '%',\r\n    shiftEn: '%',\r\n  },\r\n  Digit6: {\r\n    code: 'Digit6',\r\n    charRu: '6',\r\n    charEn: '6',\r\n    shiftRu: ':',\r\n    shiftEn: '^',\r\n  },\r\n  Digit7: {\r\n    code: 'Digit7',\r\n    charRu: '7',\r\n    charEn: '7',\r\n    shiftRu: '?',\r\n    shiftEn: '&',\r\n  },\r\n  Digit8: {\r\n    code: 'Digit8',\r\n    charRu: '8',\r\n    charEn: '8',\r\n    shiftRu: '*',\r\n    shiftEn: '*',\r\n  },\r\n  Digit9: {\r\n    code: 'Digit9',\r\n    charRu: '9',\r\n    charEn: '9',\r\n    shiftRu: '(',\r\n    shiftEn: '(',\r\n  },\r\n  Digit0: {\r\n    code: 'Digit0',\r\n    charRu: '8',\r\n    charEn: '8',\r\n    shiftRu: ')',\r\n    shiftEn: ')',\r\n  },\r\n  Backquote: {\r\n    code: 'Backquote',\r\n    charRu: 'ё',\r\n    charEn: '`',\r\n    shiftRu: 'Ё',\r\n    shiftEn: '~',\r\n  },\r\n  NumpadSubtract: {\r\n    code: 'NumpadSubtract',\r\n    charRu: '-',\r\n    charEn: '-',\r\n    shiftRu: '_',\r\n    shiftEn: '_',\r\n  },\r\n  Equal: {\r\n    code: 'Equal',\r\n    charRu: '=',\r\n    charEn: '=',\r\n    shiftRu: '+',\r\n    shiftEn: '+',\r\n  },\r\n  KeyQ: {\r\n    code: 'KeyQ',\r\n    charRu: 'й',\r\n    charEn: 'q',\r\n  },\r\n  KeyW: {\r\n    code: 'KeyW',\r\n    charRu: 'ц',\r\n    charEn: 'w',\r\n  },\r\n  KeyE: {\r\n    code: 'KeyE',\r\n    charRu: 'у',\r\n    charEn: 'e',\r\n  },\r\n  KeyR: {\r\n    code: 'KeyR',\r\n    charRu: 'к',\r\n    charEn: 'r',\r\n  },\r\n  KeyT: {\r\n    code: 'KeyT',\r\n    charRu: 'е',\r\n    charEn: 't',\r\n  },\r\n  KeyY: {\r\n    code: 'KeyY',\r\n    charRu: 'н',\r\n    charEn: 'y',\r\n  },\r\n  KeyU: {\r\n    code: 'KeyU',\r\n    charRu: 'г',\r\n    charEn: 'u',\r\n  },\r\n  KeyI: {\r\n    code: 'KeyI',\r\n    charRu: 'ш',\r\n    charEn: 'i',\r\n  },\r\n  KeyO: {\r\n    code: 'KeyO',\r\n    charRu: 'щ',\r\n    charEn: 'o',\r\n  },\r\n  KeyP: {\r\n    code: 'KeyP',\r\n    charRu: 'з',\r\n    charEn: 'p',\r\n  },\r\n  BracketLeft: {\r\n    code: 'BracketLeft',\r\n    charRu: 'х',\r\n    charEn: '[',\r\n    shiftRu: 'Х',\r\n    shiftEn: '{',\r\n  },\r\n  BracketRight: {\r\n    code: 'BracketRight',\r\n    charRu: 'ъ',\r\n    charEn: ']',\r\n    shiftRu: 'Ъ',\r\n    shiftEn: '}',\r\n  },\r\n  KeyA: {\r\n    code: 'KeyA',\r\n    charRu: 'ф',\r\n    charEn: 'a',\r\n  },\r\n  KeyS: {\r\n    code: 'KeyS',\r\n    charRu: 'ы',\r\n    charEn: 's',\r\n  },\r\n  KeyD: {\r\n    code: 'KeyD',\r\n    charRu: 'в',\r\n    charEn: 'd',\r\n  },\r\n  KeyF: {\r\n    code: 'KeyF',\r\n    charRu: 'а',\r\n    charEn: 'f',\r\n  },\r\n  KeyG: {\r\n    code: 'KeyG',\r\n    charRu: 'п',\r\n    charEn: 'g',\r\n  },\r\n  KeyH: {\r\n    code: 'KeyH',\r\n    charRu: 'р',\r\n    charEn: 'h',\r\n  },\r\n  KeyJ: {\r\n    code: 'KeyJ',\r\n    charRu: 'о',\r\n    charEn: 'j',\r\n  },\r\n  KeyK: {\r\n    code: 'KeyK',\r\n    charRu: 'л',\r\n    charEn: 'k',\r\n  },\r\n  KeyL: {\r\n    code: 'KeyL',\r\n    charRu: 'д',\r\n    charEn: 'l',\r\n  },\r\n  Semicolon: {\r\n    code: 'Semicolon',\r\n    charRu: 'ж',\r\n    charEn: ';',\r\n    shiftRu: 'Ж',\r\n    shiftEn: ':',\r\n  },\r\n  Quote: {\r\n    code: 'Quote',\r\n    charRu: 'э',\r\n    charEn: '\\'',\r\n    shiftRu: 'Э',\r\n    shiftEn: '\"',\r\n  },\r\n  KeyZ: {\r\n    code: 'KeyZ',\r\n    charRu: 'я',\r\n    charEn: 'z',\r\n  },\r\n  KeyX: {\r\n    code: 'KeyX',\r\n    charRu: 'ч',\r\n    charEn: 'x',\r\n  },\r\n  KeyC: {\r\n    code: 'KeyC',\r\n    charRu: 'с',\r\n    charEn: 'c',\r\n  },\r\n  KeyV: {\r\n    code: 'KeyV',\r\n    charRu: 'м',\r\n    charEn: 'v',\r\n  },\r\n  KeyB: {\r\n    code: 'KeyB',\r\n    charRu: 'и',\r\n    charEn: 'b',\r\n  },\r\n  KeyN: {\r\n    code: 'KeyN',\r\n    charRu: 'т',\r\n    charEn: 'n',\r\n  },\r\n  KeyM: {\r\n    code: 'KeyM',\r\n    charRu: 'ь',\r\n    charEn: 'm',\r\n  },\r\n  NumpadDecimal: {\r\n    code: 'NumpadDecimal',\r\n    charRu: 'б',\r\n    charEn: ',',\r\n    shiftRu: 'Б',\r\n    shiftEn: '<',\r\n  },\r\n  Period: {\r\n    code: 'Period',\r\n    charRu: 'ю',\r\n    charEn: '.',\r\n    shiftRu: 'Ю',\r\n    shiftEn: '>',\r\n  },\r\n  Slash: {\r\n    code: 'Slash',\r\n    charRu: '.',\r\n    charEn: '/',\r\n    shiftRu: ',',\r\n    shiftEn: '?',\r\n  },\r\n  Space: {\r\n    code: 'Space',\r\n    charRu: ' ',\r\n    charEn: ' ',\r\n  },\r\n  Backslash: {\r\n    code: 'Backslash',\r\n    charRu: '\\\\',\r\n    charEn: '\\\\',\r\n    shiftRu: '/',\r\n    shiftEn: '|',\r\n  },\r\n};\r\n\n;// CONCATENATED MODULE: ./src/components/Keybord/Keybord.js\n\r\n\r\n\r\n\r\n\r\nclass Keybord {\r\n  constructor(lang) {\r\n    this.lang = lang;\r\n    this.keybord = '';\r\n    this.keybordWrapper = '';\r\n    this.keybordRow1 = '';\r\n    this.keybordRow2 = '';\r\n    this.keybordRow3 = '';\r\n    this.keybordRow4 = '';\r\n    this.keybordRow5 = '';\r\n  }\r\n\r\n  createKeybord() {\r\n    this.keybord = createDomNode('div', 'keybord');\r\n    this.keybord.dataset.language = this.lang;\r\n    this.keybordWrapper = createDomNode('div', 'keybord__wrapper');\r\n    this.keybord.append(this.keybordWrapper);\r\n\r\n    this.keybordRow1 = createDomNode('div', 'keybord__row');\r\n    const codesOfRow1 = ['Backquote', 'Digit1', 'Digit2', 'Digit3', 'Digit4', 'Digit5', 'Digit6', 'Digit7', 'Digit8', 'Digit9', 'Digit0', 'NumpadSubtract', 'Equal'];\r\n    this.repeatedlyAddKey(this.keybordRow1, codesOfRow1);\r\n    addDarkKey('125px', 'Backspace', this.keybordRow1);\r\n    this.keybordWrapper.append(this.keybordRow1);\r\n\r\n    this.keybordRow2 = createDomNode('div', 'keybord__row');\r\n    const codesOfRow2 = ['KeyQ', 'KeyW', 'KeyE', 'KeyR', 'KeyT', 'KeyY', 'KeyU', 'KeyI', 'KeyO', 'KeyP', 'BracketLeft', 'BracketRight', 'Backslash'];\r\n    addDarkKey('62px', 'Tab', this.keybordRow2);\r\n    this.repeatedlyAddKey(this.keybordRow2, codesOfRow2);\r\n    addDarkKey('53px', 'Del', this.keybordRow2, 'Delete');\r\n    this.keybordWrapper.append(this.keybordRow2);\r\n\r\n    this.keybordRow3 = createDomNode('div', 'keybord__row');\r\n    const charsOfRow3 = ['KeyA', 'KeyS', 'KeyD', 'KeyF', 'KeyG', 'KeyH', 'KeyJ', 'KeyK', 'KeyL', 'Semicolon', 'Quote'];\r\n    addDarkKey('124px', 'CapsLock', this.keybordRow3);\r\n    this.repeatedlyAddKey(this.keybordRow3, charsOfRow3);\r\n    addDarkKey('110px', 'Enter', this.keybordRow3);\r\n    this.keybordWrapper.append(this.keybordRow3);\r\n\r\n    this.keybordRow4 = createDomNode('div', 'keybord__row');\r\n    const codesOfRow4 = ['KeyZ', 'KeyX', 'KeyC', 'KeyV', 'KeyB', 'KeyN', 'KeyM', 'NumpadDecimal', 'Period', 'Slash'];\r\n    addDarkKey('125px', 'Shift', this.keybordRow4, 'ShiftLeft');\r\n    this.repeatedlyAddKey(this.keybordRow4, codesOfRow4);\r\n    addDarkKey('50px', '⯅', this.keybordRow4, 'ArrowUp');\r\n    addDarkKey('110px', 'Shift', this.keybordRow4, 'ShiftRight');\r\n    this.keybordWrapper.append(this.keybordRow4);\r\n\r\n    this.keybordRow5 = createDomNode('div', 'keybord__row');\r\n    addDarkKey('50px', 'Ctrl', this.keybordRow5, 'ControlLeft');\r\n    addDarkKey('50px', 'Win', this.keybordRow5);\r\n    addDarkKey('50px', 'Alt', this.keybordRow5, 'AltLeft');\r\n    addSpaceKey(this.keybordRow5);\r\n    addDarkKey('50px', 'Alt', this.keybordRow5, 'AltRight');\r\n    addDarkKey('50px', '⯇', this.keybordRow5, 'ArrowLeft');\r\n    addDarkKey('50px', '⯆', this.keybordRow5, 'ArrowDown');\r\n    addDarkKey('50px', '⯈', this.keybordRow5, 'ArrowRight');\r\n    addDarkKey('53px', 'Ctrl', this.keybordRow5, 'ControlRight');\r\n    this.keybordWrapper.append(this.keybordRow5);\r\n\r\n    return this.keybord;\r\n  }\r\n\r\n  repeatedlyAddKey(node, codes) {\r\n    for (let i = 0; i < codes.length; i++) {\r\n      const key = new Key(keys[codes[i]]).createKey(this.lang);\r\n      node.append(key);\r\n    }\r\n  }\r\n}\r\n\r\nfunction addDarkKey(width, text, node, data = text) {\r\n  const key = createDomNode('div', 'key_dark', 'key');\r\n  key.innerText = text;\r\n  key.style.width = width;\r\n  key.dataset.code = data;\r\n  node.append(key);\r\n}\r\n\r\nfunction addSpaceKey(node) {\r\n  const key = createDomNode('div', 'key');\r\n  key.innerText = ' ';\r\n  key.style.width = '425px';\r\n  key.dataset.code = 'Space';\r\n  node.append(key);\r\n}\r\n\n;// CONCATENATED MODULE: ./src/components/Keybord/index.js\n\r\n\n;// CONCATENATED MODULE: ./src/utils/letters.js\nconst LETTERSru = new Map(\r\n  [\r\n    ['q', 'й'], ['w', 'ц'], ['e', 'у'], ['r', 'к'], ['t', 'е'], ['y', 'н'], ['u', 'г'], ['i', 'ш'], ['o', 'щ'], ['p', 'з'], ['[', 'х'], [']', 'ъ'], ['a', 'ф'],\r\n    ['s', 'ы'], ['d', 'в'], ['f', 'а'], ['g', 'п'], ['h', 'р'], ['j', 'о'], ['k', 'л'], ['l', 'д'], [';', 'ж'], ['\\'', 'э'], ['z', 'я'], ['x', 'ч'], ['c', 'с'],\r\n    ['v', 'м'], ['b', 'и'], ['n', 'т'], ['m', 'ь'], [',', 'б'], ['.', 'ю'], ['/', '.'], ['`', 'ё'],\r\n  ],\r\n);\r\nconst LETTERSen = new Map(\r\n  [\r\n    ['й', 'q'], ['ц', 'w'], ['у', 'e'], ['к', 'r'], ['е', 't'], ['н', 'y'], ['г', 'u'], ['ш', 'i'], ['щ', 'o'], ['з', 'p'], ['х', '['], ['ъ', ']'], ['ф', 'a'],\r\n    ['ы', 's'], ['в', 'd'], ['а', 'f'], ['п', 'g'], ['р', 'h'], ['о', 'j'], ['л', 'k'], ['д', 'l'], ['ж', ';'], ['э', '\\''], ['я', 'z'], ['ч', 'x'], ['с', 'c'],\r\n    ['м', 'v'], ['и', 'b'], ['т', 'n'], ['ь', 'm'], ['б', ','], ['ю', '.'], ['.', '/'], ['ё', '`'],\r\n  ],\r\n);\r\n\n;// CONCATENATED MODULE: ./src/index.js\n\r\n\r\n\r\n\r\n\r\n\r\nconst main = createDomNode('div', 'main');\r\nconst virtualKeybord = createDomNode('div', 'virtual-keybord');\r\nconst src_textarea = createDomNode('textarea', 'textarea');\r\nsrc_textarea.setAttribute('rows', 5);\r\nsrc_textarea.setAttribute('cols', 50);\r\nconst lang = getLanguage();\r\nconst keybord = new Keybord(lang).createKeybord();\r\nconst description = createDomNode('p', 'description');\r\nconst language = createDomNode('p', 'language');\r\ndescription.innerText = 'Клавиатура создана в операционной системе Windows';\r\nlanguage.innerText = 'Для переключения языка комбинация Ctrl + Alt';\r\n\r\ndocument.body.append(main);\r\nmain.append(virtualKeybord);\r\nvirtualKeybord.append(src_textarea);\r\nvirtualKeybord.append(keybord);\r\nmain.append(description);\r\nmain.append(language);\r\nconst virtualKeys = document.querySelectorAll('.key');\r\n\r\nwindow.onload = function onload() {\r\n  addVirtualKeyMouseDownHandler();\r\n  addKeydownHandler();\r\n  addMouseUpHandler();\r\n  document.addEventListener('keydown', changeLanguage);\r\n};\r\n\r\nfunction addVirtualKeyMouseDownHandler() {\r\n  let key = '';\r\n  keybord.addEventListener('mousedown', (event) => {\r\n    event.preventDefault();\r\n    key = event.target;\r\n    if (key.classList.contains('key')) {\r\n      keybord.dataset.key = key.dataset.code;\r\n      highlightKey(key);\r\n      print(event);\r\n    }\r\n  });\r\n}\r\nfunction addKeydownHandler() {\r\n  document.addEventListener('keydown', (event) => {\r\n    virtualKeys.forEach((key) => {\r\n      if (event.code === key.dataset.code) {\r\n        key.classList.add('key-push');\r\n      }\r\n    });\r\n  });\r\n  document.addEventListener('keyup', (event) => {\r\n    if (event.getModifierState('CapsLock')) {\r\n      window.console.log('getmod');\r\n      keybord.classList.add('caps-lock');\r\n      virtualKeys.forEach((key) => {\r\n        key.classList.remove('key-push');\r\n        if (!key.classList.contains('key_dark')) {\r\n          key.classList.add('key_upperCase');\r\n        }\r\n      });\r\n    } else {\r\n      keybord.classList.remove('caps-lock');\r\n      virtualKeys.forEach((key) => {\r\n        key.classList.remove('key-push');\r\n        if (!key.classList.contains('key_dark')) {\r\n          key.classList.remove('key_upperCase');\r\n        }\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nfunction print(event) {\r\n  const element = event.target;\r\n  if (event.shiftKey) {\r\n    applyShiftKey(event);\r\n    document.addEventListener('mouseover', applyShiftKey);\r\n    document.addEventListener('mouseout', cancelShiftKey);\r\n    document.addEventListener('click', turnOffShift);\r\n  }\r\n  if (!element.classList.contains('key_dark')) {\r\n    if (element.dataset.code === 'Space') {\r\n      src_textarea.setRangeText(' ', src_textarea.selectionStart, src_textarea.selectionEnd, 'end');\r\n    } else {\r\n      src_textarea.setRangeText(element.innerText, src_textarea.selectionStart, src_textarea.selectionEnd, 'end');\r\n    }\r\n    src_textarea.focus();\r\n  } else {\r\n    switch (element.dataset.code) {\r\n      case 'Backspace':\r\n        src_textarea.setRangeText('', src_textarea.selectionStart - 1, src_textarea.selectionEnd, 'end');\r\n        src_textarea.focus();\r\n        break;\r\n      case 'Delete':\r\n        src_textarea.setRangeText('', src_textarea.selectionStart, src_textarea.selectionEnd + 1, 'select');\r\n        src_textarea.focus();\r\n        break;\r\n      case 'Enter':\r\n        src_textarea.setRangeText('\\n', src_textarea.selectionStart, src_textarea.selectionEnd, 'end');\r\n        src_textarea.focus();\r\n        break;\r\n      case 'Tab':\r\n        src_textarea.setRangeText('\\t', src_textarea.selectionStart, src_textarea.selectionEnd, 'end');\r\n        src_textarea.focus();\r\n        break;\r\n      case 'CapsLock':\r\n        keybord.classList.toggle('caps-lock');\r\n        virtualKeys.forEach((el) => {\r\n          if (!el.classList.contains('key_dark')) {\r\n            el.classList.toggle('key_upperCase');\r\n          }\r\n        });\r\n        break;\r\n      case 'ArrowUp':\r\n        src_textarea.setRangeText(element.innerText, src_textarea.selectionStart, src_textarea.selectionEnd, 'end');\r\n        src_textarea.focus();\r\n        break;\r\n      case 'ArrowLeft':\r\n        src_textarea.setRangeText(element.innerText, src_textarea.selectionStart, src_textarea.selectionEnd, 'end');\r\n        src_textarea.focus();\r\n        break;\r\n      case 'ArrowRight':\r\n        src_textarea.setRangeText(element.innerText, src_textarea.selectionStart, src_textarea.selectionEnd, 'end');\r\n        src_textarea.focus();\r\n        break;\r\n      case 'ArrowDown':\r\n        src_textarea.setRangeText(element.innerText, src_textarea.selectionStart, src_textarea.selectionEnd, 'end');\r\n        src_textarea.focus();\r\n        break;\r\n      default:\r\n        src_textarea.focus();\r\n    }\r\n  }\r\n}\r\n\r\nfunction addMouseUpHandler() {\r\n  document.addEventListener('mouseup', onMouseup);\r\n}\r\nfunction onMouseup(event) {\r\n  let elem = '';\r\n  virtualKeys.forEach((el) => {\r\n    if (el.dataset.code === keybord.dataset.key) {\r\n      elem = el;\r\n      if (event.target.dataset.code !== elem.dataset.code) {\r\n        if (elem.dataset.code === 'ShiftLeft' || elem.dataset.code === 'ShiftRight') {\r\n          keybord.dataset.shiftKey = 'true';\r\n          highlightKey(elem);\r\n          applyShiftKey(event);\r\n          document.addEventListener('mouseover', applyShiftKey);\r\n          document.addEventListener('mouseout', cancelShiftKey);\r\n          document.addEventListener('click', turnOffShift);\r\n        } else if (elem.dataset.code === 'ControlLeft' || elem.dataset.code === 'ControlRight') {\r\n          highlightKey(elem);\r\n          document.addEventListener('click', changeLanguage);\r\n        }\r\n      } else {\r\n        removeHighlight(el);\r\n      }\r\n    }\r\n  });\r\n}\r\nfunction applyShiftKey(event) {\r\n  if ((event.shiftKey || keybord.dataset.shiftKey === 'true') && isChar(event)) {\r\n    if (isLetter(event)) {\r\n      if (keybord.classList.contains('caps-lock')) {\r\n        event.target.classList.remove('key_upperCase');\r\n      } else {\r\n        event.target.classList.add('key_upperCase');\r\n      }\r\n    } else {\r\n      const key = findObjKey(event);\r\n      if (keybord.dataset.language === 'ru') {\r\n        event.target.innerText = key[1].shiftRu;\r\n      } else {\r\n        event.target.innerText = key[1].shiftEn;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction cancelShiftKey(event) {\r\n  if (isChar(event)) {\r\n    if (isLetter(event)) {\r\n      if (!keybord.classList.contains('caps-lock')) {\r\n        event.target.classList.remove('key_upperCase');\r\n      } else {\r\n        event.target.classList.add('key_upperCase');\r\n      }\r\n    } else {\r\n      const key = findObjKey(event);\r\n      if (keybord.dataset.language === 'ru') {\r\n        event.target.innerText = key[1].charRu;\r\n      } else {\r\n        event.target.innerText = key[1].charEn;\r\n      }\r\n    }\r\n  }\r\n}\r\nfunction turnOffShift(event) {\r\n  if ((event.target.dataset.code === 'ShiftLeft' || event.target.dataset.code === 'ShiftRight') && keybord.dataset.shiftKey === 'true') {\r\n    keybord.removeEventListener('mouseover', applyShiftKey);\r\n    keybord.removeEventListener('mouseout', cancelShiftKey);\r\n    keybord.removeEventListener('click', turnOffShift);\r\n    removeHighlight(event.target);\r\n    keybord.dataset.shiftKey = 'false';\r\n  }\r\n}\r\n\r\nfunction changeLanguage(event) {\r\n  if (event.target.dataset.code === 'AltLeft' || event.target.dataset.code === 'AltRight' || (event.altKey && event.ctrlKey)) {\r\n    changeInnerText();\r\n    if (keybord.dataset.language === 'en') {\r\n      keybord.dataset.language = 'ru';\r\n      localStorage.setItem('lang', 'ru');\r\n    } else {\r\n      keybord.dataset.language = 'en';\r\n      localStorage.setItem('lang', 'en');\r\n    }\r\n  }\r\n}\r\nfunction changeInnerText() {\r\n  if (keybord.dataset.language === 'en') {\r\n    virtualKeys.forEach((key) => {\r\n      if (key.classList.contains('key_upperCase')) {\r\n        key.innerText = LETTERSru.get(key.innerText.toLowerCase()) || key.innerText;\r\n        key.innerText.toUpperCase();\r\n      } else {\r\n        key.innerText = LETTERSru.get(key.innerText) || key.innerText;\r\n      }\r\n    });\r\n  } else {\r\n    virtualKeys.forEach((key) => {\r\n      if (key.classList.contains('key_upperCase')) {\r\n        key.innerText = LETTERSen.get(key.innerText.toLowerCase()) || key.innerText;\r\n        key.innerText.toUpperCase();\r\n      } else {\r\n        key.innerText = LETTERSen.get(key.innerText) || key.innerText;\r\n      }\r\n    });\r\n  }\r\n}\r\nfunction getLanguage() {\r\n  return localStorage.getItem('lang');\r\n}\r\n\r\nfunction isChar(event) {\r\n  return (event.target.classList.contains('key') && !event.target.classList.contains('key_dark'));\r\n}\r\nfunction isLetter(event) {\r\n  return (event.target.dataset.code.startsWith('Key'));\r\n}\r\nfunction findObjKey(event) {\r\n  return Object.entries(keys).find((el) => el[0] === event.target.dataset.code);\r\n}\r\n\r\nfunction highlightKey(element) {\r\n  element.classList.add('key-push');\r\n}\r\nfunction removeHighlight(element) {\r\n  element.classList.remove('key-push');\r\n}\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiOTE1LmpzIiwibWFwcGluZ3MiOiI7O0FBQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7O0FDSm9CO0FBQzhCO0FBQ2xEO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsYUFBYTtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTTtBQUNOO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUM5QjRCOzs7QUNBckI7QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWU7QUFDZjtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZTtBQUNmLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQSxjQUFjO0FBQ2Q7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNB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QUFDQSxLQUFLO0FBQ0wsSUFBSTtBQUNKO0FBQ0E7QUFDQSx3QkFBd0IsYUFBYTtBQUNyQztBQUNBLFFBQVE7QUFDUix3QkFBd0IsYUFBYTtBQUNyQztBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixJQUFJO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly92aXJ0dWFsLWtleWJvcmQvLi9zcmMvdXRpbHMvdXRpbHMuanM/ZmE3ZCIsIndlYnBhY2s6Ly92aXJ0dWFsLWtleWJvcmQvLi9zcmMvY29tcG9uZW50cy9LZXkvS2V5LmpzPzUyOTciLCJ3ZWJwYWNrOi8vdmlydHVhbC1rZXlib3JkLy4vc3JjL2NvbXBvbmVudHMvS2V5L2luZGV4LmpzP2M5NTQiLCJ3ZWJwYWNrOi8vdmlydHVhbC1rZXlib3JkLy4vc3JjL3V0aWxzL2tleXMuanM/ZjIyMyIsIndlYnBhY2s6Ly92aXJ0dWFsLWtleWJvcmQvLi9zcmMvY29tcG9uZW50cy9LZXlib3JkL0tleWJvcmQuanM/MTM2MCIsIndlYnBhY2s6Ly92aXJ0dWFsLWtleWJvcmQvLi9zcmMvY29tcG9uZW50cy9LZXlib3JkL2luZGV4LmpzP2Q0NmUiLCJ3ZWJwYWNrOi8vdmlydHVhbC1rZXlib3JkLy4vc3JjL3V0aWxzL2xldHRlcnMuanM/ZmNkNiIsIndlYnBhY2s6Ly92aXJ0dWFsLWtleWJvcmQvLi9zcmMvaW5kZXguanM/YjYzNSJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgY3JlYXRlRG9tTm9kZSA9IChlbGVtLCAuLi5jbGFzc2VzKSA9PiB7XHJcbiAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoZWxlbSk7XHJcbiAgbm9kZS5jbGFzc0xpc3QuYWRkKC4uLmNsYXNzZXMpO1xyXG4gIHJldHVybiBub2RlO1xyXG59O1xyXG4iLCJpbXBvcnQgJy4va2V5LnNjc3MnO1xyXG5pbXBvcnQgeyBjcmVhdGVEb21Ob2RlIH0gZnJvbSAnLi4vLi4vdXRpbHMvdXRpbHMnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEtleSB7XHJcbiAgY29uc3RydWN0b3Iob2JqS2V5LCAuLi5jbGFzc2VzKSB7XHJcbiAgICB0aGlzLmtleSA9ICcnO1xyXG4gICAgdGhpcy5vYmpLZXkgPSBvYmpLZXk7XHJcbiAgICB0aGlzLmNsYXNzZXMgPSBjbGFzc2VzO1xyXG4gIH1cclxuXHJcbiAgY3JlYXRlS2V5KGxhbmcpIHtcclxuICAgIHRoaXMua2V5ID0gY3JlYXRlRG9tTm9kZSgnZGl2JywgJ2tleScsIC4uLnRoaXMuY2xhc3Nlcyk7XHJcbiAgICB0aGlzLmFkZElubmVyVGV4dChsYW5nKTtcclxuICAgIHRoaXMuYWRkQ29kZSgpO1xyXG4gICAgcmV0dXJuIHRoaXMua2V5O1xyXG4gIH1cclxuXHJcbiAgYWRkSW5uZXJUZXh0KGxhbmcpIHtcclxuICAgIGlmIChsYW5nID09PSAnZW4nKSB7XHJcbiAgICAgIHRoaXMua2V5LmlubmVyVGV4dCA9IHRoaXMub2JqS2V5LmNoYXJFbjtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMua2V5LmlubmVyVGV4dCA9IHRoaXMub2JqS2V5LmNoYXJSdTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGFkZENvZGUoKSB7XHJcbiAgICBpZiAoIXRoaXMuY2xhc3Nlcy5pbmNsdWRlcygna2V5X2RhcmsnKSkge1xyXG4gICAgICB0aGlzLmtleS5kYXRhc2V0LmNvZGUgPSB0aGlzLm9iaktleS5jb2RlO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iLCJleHBvcnQgeyBLZXkgfSBmcm9tICcuL0tleSc7XHJcbiIsImV4cG9ydCBjb25zdCBrZXlzID0ge1xyXG4gIERpZ2l0MToge1xyXG4gICAgY29kZTogJ0RpZ2l0MScsXHJcbiAgICBjaGFyUnU6ICcxJyxcclxuICAgIGNoYXJFbjogJzEnLFxyXG4gICAgc2hpZnRSdTogJyEnLFxyXG4gICAgc2hpZnRFbjogJyEnLFxyXG4gIH0sXHJcbiAgRGlnaXQyOiB7XHJcbiAgICBjb2RlOiAnRGlnaXQyJyxcclxuICAgIGNoYXJSdTogJzInLFxyXG4gICAgY2hhckVuOiAnMicsXHJcbiAgICBzaGlmdFJ1OiAnXCInLFxyXG4gICAgc2hpZnRFbjogJ0AnLFxyXG4gIH0sXHJcbiAgRGlnaXQzOiB7XHJcbiAgICBjb2RlOiAnRGlnaXQzJyxcclxuICAgIGNoYXJSdTogJzMnLFxyXG4gICAgY2hhckVuOiAnMycsXHJcbiAgICBzaGlmdFJ1OiAn4oSWJyxcclxuICAgIHNoaWZ0RW46ICcjJyxcclxuICB9LFxyXG4gIERpZ2l0NDoge1xyXG4gICAgY29kZTogJ0RpZ2l0NCcsXHJcbiAgICBjaGFyUnU6ICc0JyxcclxuICAgIGNoYXJFbjogJzQnLFxyXG4gICAgc2hpZnRSdTogJzsnLFxyXG4gICAgc2hpZnRFbjogJyQnLFxyXG4gIH0sXHJcbiAgRGlnaXQ1OiB7XHJcbiAgICBjb2RlOiAnRGlnaXQ1JyxcclxuICAgIGNoYXJSdTogJzUnLFxyXG4gICAgY2hhckVuOiAnNScsXHJcbiAgICBzaGlmdFJ1OiAnJScsXHJcbiAgICBzaGlmdEVuOiAnJScsXHJcbiAgfSxcclxuICBEaWdpdDY6IHtcclxuICAgIGNvZGU6ICdEaWdpdDYnLFxyXG4gICAgY2hhclJ1OiAnNicsXHJcbiAgICBjaGFyRW46ICc2JyxcclxuICAgIHNoaWZ0UnU6ICc6JyxcclxuICAgIHNoaWZ0RW46ICdeJyxcclxuICB9LFxyXG4gIERpZ2l0Nzoge1xyXG4gICAgY29kZTogJ0RpZ2l0NycsXHJcbiAgICBjaGFyUnU6ICc3JyxcclxuICAgIGNoYXJFbjogJzcnLFxyXG4gICAgc2hpZnRSdTogJz8nLFxyXG4gICAgc2hpZnRFbjogJyYnLFxyXG4gIH0sXHJcbiAgRGlnaXQ4OiB7XHJcbiAgICBjb2RlOiAnRGlnaXQ4JyxcclxuICAgIGNoYXJSdTogJzgnLFxyXG4gICAgY2hhckVuOiAnOCcsXHJcbiAgICBzaGlmdFJ1OiAnKicsXHJcbiAgICBzaGlmdEVuOiAnKicsXHJcbiAgfSxcclxuICBEaWdpdDk6IHtcclxuICAgIGNvZGU6ICdEaWdpdDknLFxyXG4gICAgY2hhclJ1OiAnOScsXHJcbiAgICBjaGFyRW46ICc5JyxcclxuICAgIHNoaWZ0UnU6ICcoJyxcclxuICAgIHNoaWZ0RW46ICcoJyxcclxuICB9LFxyXG4gIERpZ2l0MDoge1xyXG4gICAgY29kZTogJ0RpZ2l0MCcsXHJcbiAgICBjaGFyUnU6ICc4JyxcclxuICAgIGNoYXJFbjogJzgnLFxyXG4gICAgc2hpZnRSdTogJyknLFxyXG4gICAgc2hpZnRFbjogJyknLFxyXG4gIH0sXHJcbiAgQmFja3F1b3RlOiB7XHJcbiAgICBjb2RlOiAnQmFja3F1b3RlJyxcclxuICAgIGNoYXJSdTogJ9GRJyxcclxuICAgIGNoYXJFbjogJ2AnLFxyXG4gICAgc2hpZnRSdTogJ9CBJyxcclxuICAgIHNoaWZ0RW46ICd+JyxcclxuICB9LFxyXG4gIE51bXBhZFN1YnRyYWN0OiB7XHJcbiAgICBjb2RlOiAnTnVtcGFkU3VidHJhY3QnLFxyXG4gICAgY2hhclJ1OiAnLScsXHJcbiAgICBjaGFyRW46ICctJyxcclxuICAgIHNoaWZ0UnU6ICdfJyxcclxuICAgIHNoaWZ0RW46ICdfJyxcclxuICB9LFxyXG4gIEVxdWFsOiB7XHJcbiAgICBjb2RlOiAnRXF1YWwnLFxyXG4gICAgY2hhclJ1OiAnPScsXHJcbiAgICBjaGFyRW46ICc9JyxcclxuICAgIHNoaWZ0UnU6ICcrJyxcclxuICAgIHNoaWZ0RW46ICcrJyxcclxuICB9LFxyXG4gIEtleVE6IHtcclxuICAgIGNvZGU6ICdLZXlRJyxcclxuICAgIGNoYXJSdTogJ9C5JyxcclxuICAgIGNoYXJFbjogJ3EnLFxyXG4gIH0sXHJcbiAgS2V5Vzoge1xyXG4gICAgY29kZTogJ0tleVcnLFxyXG4gICAgY2hhclJ1OiAn0YYnLFxyXG4gICAgY2hhckVuOiAndycsXHJcbiAgfSxcclxuICBLZXlFOiB7XHJcbiAgICBjb2RlOiAnS2V5RScsXHJcbiAgICBjaGFyUnU6ICfRgycsXHJcbiAgICBjaGFyRW46ICdlJyxcclxuICB9LFxyXG4gIEtleVI6IHtcclxuICAgIGNvZGU6ICdLZXlSJyxcclxuICAgIGNoYXJSdTogJ9C6JyxcclxuICAgIGNoYXJFbjogJ3InLFxyXG4gIH0sXHJcbiAgS2V5VDoge1xyXG4gICAgY29kZTogJ0tleVQnLFxyXG4gICAgY2hhclJ1OiAn0LUnLFxyXG4gICAgY2hhckVuOiAndCcsXHJcbiAgfSxcclxuICBLZXlZOiB7XHJcbiAgICBjb2RlOiAnS2V5WScsXHJcbiAgICBjaGFyUnU6ICfQvScsXHJcbiAgICBjaGFyRW46ICd5JyxcclxuICB9LFxyXG4gIEtleVU6IHtcclxuICAgIGNvZGU6ICdLZXlVJyxcclxuICAgIGNoYXJSdTogJ9CzJyxcclxuICAgIGNoYXJFbjogJ3UnLFxyXG4gIH0sXHJcbiAgS2V5SToge1xyXG4gICAgY29kZTogJ0tleUknLFxyXG4gICAgY2hhclJ1OiAn0YgnLFxyXG4gICAgY2hhckVuOiAnaScsXHJcbiAgfSxcclxuICBLZXlPOiB7XHJcbiAgICBjb2RlOiAnS2V5TycsXHJcbiAgICBjaGFyUnU6ICfRiScsXHJcbiAgICBjaGFyRW46ICdvJyxcclxuICB9LFxyXG4gIEtleVA6IHtcclxuICAgIGNvZGU6ICdLZXlQJyxcclxuICAgIGNoYXJSdTogJ9C3JyxcclxuICAgIGNoYXJFbjogJ3AnLFxyXG4gIH0sXHJcbiAgQnJhY2tldExlZnQ6IHtcclxuICAgIGNvZGU6ICdCcmFja2V0TGVmdCcsXHJcbiAgICBjaGFyUnU6ICfRhScsXHJcbiAgICBjaGFyRW46ICdbJyxcclxuICAgIHNoaWZ0UnU6ICfQpScsXHJcbiAgICBzaGlmdEVuOiAneycsXHJcbiAgfSxcclxuICBCcmFja2V0UmlnaHQ6IHtcclxuICAgIGNvZGU6ICdCcmFja2V0UmlnaHQnLFxyXG4gICAgY2hhclJ1OiAn0YonLFxyXG4gICAgY2hhckVuOiAnXScsXHJcbiAgICBzaGlmdFJ1OiAn0KonLFxyXG4gICAgc2hpZnRFbjogJ30nLFxyXG4gIH0sXHJcbiAgS2V5QToge1xyXG4gICAgY29kZTogJ0tleUEnLFxyXG4gICAgY2hhclJ1OiAn0YQnLFxyXG4gICAgY2hhckVuOiAnYScsXHJcbiAgfSxcclxuICBLZXlTOiB7XHJcbiAgICBjb2RlOiAnS2V5UycsXHJcbiAgICBjaGFyUnU6ICfRiycsXHJcbiAgICBjaGFyRW46ICdzJyxcclxuICB9LFxyXG4gIEtleUQ6IHtcclxuICAgIGNvZGU6ICdLZXlEJyxcclxuICAgIGNoYXJSdTogJ9CyJyxcclxuICAgIGNoYXJFbjogJ2QnLFxyXG4gIH0sXHJcbiAgS2V5Rjoge1xyXG4gICAgY29kZTogJ0tleUYnLFxyXG4gICAgY2hhclJ1OiAn0LAnLFxyXG4gICAgY2hhckVuOiAnZicsXHJcbiAgfSxcclxuICBLZXlHOiB7XHJcbiAgICBjb2RlOiAnS2V5RycsXHJcbiAgICBjaGFyUnU6ICfQvycsXHJcbiAgICBjaGFyRW46ICdnJyxcclxuICB9LFxyXG4gIEtleUg6IHtcclxuICAgIGNvZGU6ICdLZXlIJyxcclxuICAgIGNoYXJSdTogJ9GAJyxcclxuICAgIGNoYXJFbjogJ2gnLFxyXG4gIH0sXHJcbiAgS2V5Sjoge1xyXG4gICAgY29kZTogJ0tleUonLFxyXG4gICAgY2hhclJ1OiAn0L4nLFxyXG4gICAgY2hhckVuOiAnaicsXHJcbiAgfSxcclxuICBLZXlLOiB7XHJcbiAgICBjb2RlOiAnS2V5SycsXHJcbiAgICBjaGFyUnU6ICfQuycsXHJcbiAgICBjaGFyRW46ICdrJyxcclxuICB9LFxyXG4gIEtleUw6IHtcclxuICAgIGNvZGU6ICdLZXlMJyxcclxuICAgIGNoYXJSdTogJ9C0JyxcclxuICAgIGNoYXJFbjogJ2wnLFxyXG4gIH0sXHJcbiAgU2VtaWNvbG9uOiB7XHJcbiAgICBjb2RlOiAnU2VtaWNvbG9uJyxcclxuICAgIGNoYXJSdTogJ9C2JyxcclxuICAgIGNoYXJFbjogJzsnLFxyXG4gICAgc2hpZnRSdTogJ9CWJyxcclxuICAgIHNoaWZ0RW46ICc6JyxcclxuICB9LFxyXG4gIFF1b3RlOiB7XHJcbiAgICBjb2RlOiAnUXVvdGUnLFxyXG4gICAgY2hhclJ1OiAn0Y0nLFxyXG4gICAgY2hhckVuOiAnXFwnJyxcclxuICAgIHNoaWZ0UnU6ICfQrScsXHJcbiAgICBzaGlmdEVuOiAnXCInLFxyXG4gIH0sXHJcbiAgS2V5Wjoge1xyXG4gICAgY29kZTogJ0tleVonLFxyXG4gICAgY2hhclJ1OiAn0Y8nLFxyXG4gICAgY2hhckVuOiAneicsXHJcbiAgfSxcclxuICBLZXlYOiB7XHJcbiAgICBjb2RlOiAnS2V5WCcsXHJcbiAgICBjaGFyUnU6ICfRhycsXHJcbiAgICBjaGFyRW46ICd4JyxcclxuICB9LFxyXG4gIEtleUM6IHtcclxuICAgIGNvZGU6ICdLZXlDJyxcclxuICAgIGNoYXJSdTogJ9GBJyxcclxuICAgIGNoYXJFbjogJ2MnLFxyXG4gIH0sXHJcbiAgS2V5Vjoge1xyXG4gICAgY29kZTogJ0tleVYnLFxyXG4gICAgY2hhclJ1OiAn0LwnLFxyXG4gICAgY2hhckVuOiAndicsXHJcbiAgfSxcclxuICBLZXlCOiB7XHJcbiAgICBjb2RlOiAnS2V5QicsXHJcbiAgICBjaGFyUnU6ICfQuCcsXHJcbiAgICBjaGFyRW46ICdiJyxcclxuICB9LFxyXG4gIEtleU46IHtcclxuICAgIGNvZGU6ICdLZXlOJyxcclxuICAgIGNoYXJSdTogJ9GCJyxcclxuICAgIGNoYXJFbjogJ24nLFxyXG4gIH0sXHJcbiAgS2V5TToge1xyXG4gICAgY29kZTogJ0tleU0nLFxyXG4gICAgY2hhclJ1OiAn0YwnLFxyXG4gICAgY2hhckVuOiAnbScsXHJcbiAgfSxcclxuICBOdW1wYWREZWNpbWFsOiB7XHJcbiAgICBjb2RlOiAnTnVtcGFkRGVjaW1hbCcsXHJcbiAgICBjaGFyUnU6ICfQsScsXHJcbiAgICBjaGFyRW46ICcsJyxcclxuICAgIHNoaWZ0UnU6ICfQkScsXHJcbiAgICBzaGlmdEVuOiAnPCcsXHJcbiAgfSxcclxuICBQZXJpb2Q6IHtcclxuICAgIGNvZGU6ICdQZXJpb2QnLFxyXG4gICAgY2hhclJ1OiAn0Y4nLFxyXG4gICAgY2hhckVuOiAnLicsXHJcbiAgICBzaGlmdFJ1OiAn0K4nLFxyXG4gICAgc2hpZnRFbjogJz4nLFxyXG4gIH0sXHJcbiAgU2xhc2g6IHtcclxuICAgIGNvZGU6ICdTbGFzaCcsXHJcbiAgICBjaGFyUnU6ICcuJyxcclxuICAgIGNoYXJFbjogJy8nLFxyXG4gICAgc2hpZnRSdTogJywnLFxyXG4gICAgc2hpZnRFbjogJz8nLFxyXG4gIH0sXHJcbiAgU3BhY2U6IHtcclxuICAgIGNvZGU6ICdTcGFjZScsXHJcbiAgICBjaGFyUnU6ICcgJyxcclxuICAgIGNoYXJFbjogJyAnLFxyXG4gIH0sXHJcbiAgQmFja3NsYXNoOiB7XHJcbiAgICBjb2RlOiAnQmFja3NsYXNoJyxcclxuICAgIGNoYXJSdTogJ1xcXFwnLFxyXG4gICAgY2hhckVuOiAnXFxcXCcsXHJcbiAgICBzaGlmdFJ1OiAnLycsXHJcbiAgICBzaGlmdEVuOiAnfCcsXHJcbiAgfSxcclxufTtcclxuIiwiaW1wb3J0ICcuL2tleWJvcmQuc2Nzcyc7XHJcbmltcG9ydCB7IGNyZWF0ZURvbU5vZGUgfSBmcm9tICcuLi8uLi91dGlscy91dGlscyc7XHJcbmltcG9ydCB7IEtleSB9IGZyb20gJy4uL0tleSc7XHJcbmltcG9ydCB7IGtleXMgfSBmcm9tICcuLi8uLi91dGlscy9rZXlzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBLZXlib3JkIHtcclxuICBjb25zdHJ1Y3RvcihsYW5nKSB7XHJcbiAgICB0aGlzLmxhbmcgPSBsYW5nO1xyXG4gICAgdGhpcy5rZXlib3JkID0gJyc7XHJcbiAgICB0aGlzLmtleWJvcmRXcmFwcGVyID0gJyc7XHJcbiAgICB0aGlzLmtleWJvcmRSb3cxID0gJyc7XHJcbiAgICB0aGlzLmtleWJvcmRSb3cyID0gJyc7XHJcbiAgICB0aGlzLmtleWJvcmRSb3czID0gJyc7XHJcbiAgICB0aGlzLmtleWJvcmRSb3c0ID0gJyc7XHJcbiAgICB0aGlzLmtleWJvcmRSb3c1ID0gJyc7XHJcbiAgfVxyXG5cclxuICBjcmVhdGVLZXlib3JkKCkge1xyXG4gICAgdGhpcy5rZXlib3JkID0gY3JlYXRlRG9tTm9kZSgnZGl2JywgJ2tleWJvcmQnKTtcclxuICAgIHRoaXMua2V5Ym9yZC5kYXRhc2V0Lmxhbmd1YWdlID0gdGhpcy5sYW5nO1xyXG4gICAgdGhpcy5rZXlib3JkV3JhcHBlciA9IGNyZWF0ZURvbU5vZGUoJ2RpdicsICdrZXlib3JkX193cmFwcGVyJyk7XHJcbiAgICB0aGlzLmtleWJvcmQuYXBwZW5kKHRoaXMua2V5Ym9yZFdyYXBwZXIpO1xyXG5cclxuICAgIHRoaXMua2V5Ym9yZFJvdzEgPSBjcmVhdGVEb21Ob2RlKCdkaXYnLCAna2V5Ym9yZF9fcm93Jyk7XHJcbiAgICBjb25zdCBjb2Rlc09mUm93MSA9IFsnQmFja3F1b3RlJywgJ0RpZ2l0MScsICdEaWdpdDInLCAnRGlnaXQzJywgJ0RpZ2l0NCcsICdEaWdpdDUnLCAnRGlnaXQ2JywgJ0RpZ2l0NycsICdEaWdpdDgnLCAnRGlnaXQ5JywgJ0RpZ2l0MCcsICdOdW1wYWRTdWJ0cmFjdCcsICdFcXVhbCddO1xyXG4gICAgdGhpcy5yZXBlYXRlZGx5QWRkS2V5KHRoaXMua2V5Ym9yZFJvdzEsIGNvZGVzT2ZSb3cxKTtcclxuICAgIGFkZERhcmtLZXkoJzEyNXB4JywgJ0JhY2tzcGFjZScsIHRoaXMua2V5Ym9yZFJvdzEpO1xyXG4gICAgdGhpcy5rZXlib3JkV3JhcHBlci5hcHBlbmQodGhpcy5rZXlib3JkUm93MSk7XHJcblxyXG4gICAgdGhpcy5rZXlib3JkUm93MiA9IGNyZWF0ZURvbU5vZGUoJ2RpdicsICdrZXlib3JkX19yb3cnKTtcclxuICAgIGNvbnN0IGNvZGVzT2ZSb3cyID0gWydLZXlRJywgJ0tleVcnLCAnS2V5RScsICdLZXlSJywgJ0tleVQnLCAnS2V5WScsICdLZXlVJywgJ0tleUknLCAnS2V5TycsICdLZXlQJywgJ0JyYWNrZXRMZWZ0JywgJ0JyYWNrZXRSaWdodCcsICdCYWNrc2xhc2gnXTtcclxuICAgIGFkZERhcmtLZXkoJzYycHgnLCAnVGFiJywgdGhpcy5rZXlib3JkUm93Mik7XHJcbiAgICB0aGlzLnJlcGVhdGVkbHlBZGRLZXkodGhpcy5rZXlib3JkUm93MiwgY29kZXNPZlJvdzIpO1xyXG4gICAgYWRkRGFya0tleSgnNTNweCcsICdEZWwnLCB0aGlzLmtleWJvcmRSb3cyLCAnRGVsZXRlJyk7XHJcbiAgICB0aGlzLmtleWJvcmRXcmFwcGVyLmFwcGVuZCh0aGlzLmtleWJvcmRSb3cyKTtcclxuXHJcbiAgICB0aGlzLmtleWJvcmRSb3czID0gY3JlYXRlRG9tTm9kZSgnZGl2JywgJ2tleWJvcmRfX3JvdycpO1xyXG4gICAgY29uc3QgY2hhcnNPZlJvdzMgPSBbJ0tleUEnLCAnS2V5UycsICdLZXlEJywgJ0tleUYnLCAnS2V5RycsICdLZXlIJywgJ0tleUonLCAnS2V5SycsICdLZXlMJywgJ1NlbWljb2xvbicsICdRdW90ZSddO1xyXG4gICAgYWRkRGFya0tleSgnMTI0cHgnLCAnQ2Fwc0xvY2snLCB0aGlzLmtleWJvcmRSb3czKTtcclxuICAgIHRoaXMucmVwZWF0ZWRseUFkZEtleSh0aGlzLmtleWJvcmRSb3czLCBjaGFyc09mUm93Myk7XHJcbiAgICBhZGREYXJrS2V5KCcxMTBweCcsICdFbnRlcicsIHRoaXMua2V5Ym9yZFJvdzMpO1xyXG4gICAgdGhpcy5rZXlib3JkV3JhcHBlci5hcHBlbmQodGhpcy5rZXlib3JkUm93Myk7XHJcblxyXG4gICAgdGhpcy5rZXlib3JkUm93NCA9IGNyZWF0ZURvbU5vZGUoJ2RpdicsICdrZXlib3JkX19yb3cnKTtcclxuICAgIGNvbnN0IGNvZGVzT2ZSb3c0ID0gWydLZXlaJywgJ0tleVgnLCAnS2V5QycsICdLZXlWJywgJ0tleUInLCAnS2V5TicsICdLZXlNJywgJ051bXBhZERlY2ltYWwnLCAnUGVyaW9kJywgJ1NsYXNoJ107XHJcbiAgICBhZGREYXJrS2V5KCcxMjVweCcsICdTaGlmdCcsIHRoaXMua2V5Ym9yZFJvdzQsICdTaGlmdExlZnQnKTtcclxuICAgIHRoaXMucmVwZWF0ZWRseUFkZEtleSh0aGlzLmtleWJvcmRSb3c0LCBjb2Rlc09mUm93NCk7XHJcbiAgICBhZGREYXJrS2V5KCc1MHB4JywgJ+KvhScsIHRoaXMua2V5Ym9yZFJvdzQsICdBcnJvd1VwJyk7XHJcbiAgICBhZGREYXJrS2V5KCcxMTBweCcsICdTaGlmdCcsIHRoaXMua2V5Ym9yZFJvdzQsICdTaGlmdFJpZ2h0Jyk7XHJcbiAgICB0aGlzLmtleWJvcmRXcmFwcGVyLmFwcGVuZCh0aGlzLmtleWJvcmRSb3c0KTtcclxuXHJcbiAgICB0aGlzLmtleWJvcmRSb3c1ID0gY3JlYXRlRG9tTm9kZSgnZGl2JywgJ2tleWJvcmRfX3JvdycpO1xyXG4gICAgYWRkRGFya0tleSgnNTBweCcsICdDdHJsJywgdGhpcy5rZXlib3JkUm93NSwgJ0NvbnRyb2xMZWZ0Jyk7XHJcbiAgICBhZGREYXJrS2V5KCc1MHB4JywgJ1dpbicsIHRoaXMua2V5Ym9yZFJvdzUpO1xyXG4gICAgYWRkRGFya0tleSgnNTBweCcsICdBbHQnLCB0aGlzLmtleWJvcmRSb3c1LCAnQWx0TGVmdCcpO1xyXG4gICAgYWRkU3BhY2VLZXkodGhpcy5rZXlib3JkUm93NSk7XHJcbiAgICBhZGREYXJrS2V5KCc1MHB4JywgJ0FsdCcsIHRoaXMua2V5Ym9yZFJvdzUsICdBbHRSaWdodCcpO1xyXG4gICAgYWRkRGFya0tleSgnNTBweCcsICfir4cnLCB0aGlzLmtleWJvcmRSb3c1LCAnQXJyb3dMZWZ0Jyk7XHJcbiAgICBhZGREYXJrS2V5KCc1MHB4JywgJ+KvhicsIHRoaXMua2V5Ym9yZFJvdzUsICdBcnJvd0Rvd24nKTtcclxuICAgIGFkZERhcmtLZXkoJzUwcHgnLCAn4q+IJywgdGhpcy5rZXlib3JkUm93NSwgJ0Fycm93UmlnaHQnKTtcclxuICAgIGFkZERhcmtLZXkoJzUzcHgnLCAnQ3RybCcsIHRoaXMua2V5Ym9yZFJvdzUsICdDb250cm9sUmlnaHQnKTtcclxuICAgIHRoaXMua2V5Ym9yZFdyYXBwZXIuYXBwZW5kKHRoaXMua2V5Ym9yZFJvdzUpO1xyXG5cclxuICAgIHJldHVybiB0aGlzLmtleWJvcmQ7XHJcbiAgfVxyXG5cclxuICByZXBlYXRlZGx5QWRkS2V5KG5vZGUsIGNvZGVzKSB7XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNvZGVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGtleSA9IG5ldyBLZXkoa2V5c1tjb2Rlc1tpXV0pLmNyZWF0ZUtleSh0aGlzLmxhbmcpO1xyXG4gICAgICBub2RlLmFwcGVuZChrZXkpO1xyXG4gICAgfVxyXG4gIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWRkRGFya0tleSh3aWR0aCwgdGV4dCwgbm9kZSwgZGF0YSA9IHRleHQpIHtcclxuICBjb25zdCBrZXkgPSBjcmVhdGVEb21Ob2RlKCdkaXYnLCAna2V5X2RhcmsnLCAna2V5Jyk7XHJcbiAga2V5LmlubmVyVGV4dCA9IHRleHQ7XHJcbiAga2V5LnN0eWxlLndpZHRoID0gd2lkdGg7XHJcbiAga2V5LmRhdGFzZXQuY29kZSA9IGRhdGE7XHJcbiAgbm9kZS5hcHBlbmQoa2V5KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkU3BhY2VLZXkobm9kZSkge1xyXG4gIGNvbnN0IGtleSA9IGNyZWF0ZURvbU5vZGUoJ2RpdicsICdrZXknKTtcclxuICBrZXkuaW5uZXJUZXh0ID0gJyAnO1xyXG4gIGtleS5zdHlsZS53aWR0aCA9ICc0MjVweCc7XHJcbiAga2V5LmRhdGFzZXQuY29kZSA9ICdTcGFjZSc7XHJcbiAgbm9kZS5hcHBlbmQoa2V5KTtcclxufVxyXG4iLCJleHBvcnQgeyBLZXlib3JkIH0gZnJvbSAnLi9LZXlib3JkJztcclxuIiwiZXhwb3J0IGNvbnN0IExFVFRFUlNydSA9IG5ldyBNYXAoXHJcbiAgW1xyXG4gICAgWydxJywgJ9C5J10sIFsndycsICfRhiddLCBbJ2UnLCAn0YMnXSwgWydyJywgJ9C6J10sIFsndCcsICfQtSddLCBbJ3knLCAn0L0nXSwgWyd1JywgJ9CzJ10sIFsnaScsICfRiCddLCBbJ28nLCAn0YknXSwgWydwJywgJ9C3J10sIFsnWycsICfRhSddLCBbJ10nLCAn0YonXSwgWydhJywgJ9GEJ10sXHJcbiAgICBbJ3MnLCAn0YsnXSwgWydkJywgJ9CyJ10sIFsnZicsICfQsCddLCBbJ2cnLCAn0L8nXSwgWydoJywgJ9GAJ10sIFsnaicsICfQviddLCBbJ2snLCAn0LsnXSwgWydsJywgJ9C0J10sIFsnOycsICfQtiddLCBbJ1xcJycsICfRjSddLCBbJ3onLCAn0Y8nXSwgWyd4JywgJ9GHJ10sIFsnYycsICfRgSddLFxyXG4gICAgWyd2JywgJ9C8J10sIFsnYicsICfQuCddLCBbJ24nLCAn0YInXSwgWydtJywgJ9GMJ10sIFsnLCcsICfQsSddLCBbJy4nLCAn0Y4nXSwgWycvJywgJy4nXSwgWydgJywgJ9GRJ10sXHJcbiAgXSxcclxuKTtcclxuZXhwb3J0IGNvbnN0IExFVFRFUlNlbiA9IG5ldyBNYXAoXHJcbiAgW1xyXG4gICAgWyfQuScsICdxJ10sIFsn0YYnLCAndyddLCBbJ9GDJywgJ2UnXSwgWyfQuicsICdyJ10sIFsn0LUnLCAndCddLCBbJ9C9JywgJ3knXSwgWyfQsycsICd1J10sIFsn0YgnLCAnaSddLCBbJ9GJJywgJ28nXSwgWyfQtycsICdwJ10sIFsn0YUnLCAnWyddLCBbJ9GKJywgJ10nXSwgWyfRhCcsICdhJ10sXHJcbiAgICBbJ9GLJywgJ3MnXSwgWyfQsicsICdkJ10sIFsn0LAnLCAnZiddLCBbJ9C/JywgJ2cnXSwgWyfRgCcsICdoJ10sIFsn0L4nLCAnaiddLCBbJ9C7JywgJ2snXSwgWyfQtCcsICdsJ10sIFsn0LYnLCAnOyddLCBbJ9GNJywgJ1xcJyddLCBbJ9GPJywgJ3onXSwgWyfRhycsICd4J10sIFsn0YEnLCAnYyddLFxyXG4gICAgWyfQvCcsICd2J10sIFsn0LgnLCAnYiddLCBbJ9GCJywgJ24nXSwgWyfRjCcsICdtJ10sIFsn0LEnLCAnLCddLCBbJ9GOJywgJy4nXSwgWycuJywgJy8nXSwgWyfRkScsICdgJ10sXHJcbiAgXSxcclxuKTtcclxuIiwiaW1wb3J0ICcuL3N0eWxlLnNjc3MnO1xyXG5pbXBvcnQgeyBjcmVhdGVEb21Ob2RlIH0gZnJvbSAnLi91dGlscy91dGlscyc7XHJcbmltcG9ydCB7IEtleWJvcmQgfSBmcm9tICcuL2NvbXBvbmVudHMvS2V5Ym9yZCc7XHJcbmltcG9ydCB7IExFVFRFUlNydSwgTEVUVEVSU2VuIH0gZnJvbSAnLi91dGlscy9sZXR0ZXJzJztcclxuaW1wb3J0IHsga2V5cyB9IGZyb20gJy4vdXRpbHMva2V5cyc7XHJcblxyXG5jb25zdCBtYWluID0gY3JlYXRlRG9tTm9kZSgnZGl2JywgJ21haW4nKTtcclxuY29uc3QgdmlydHVhbEtleWJvcmQgPSBjcmVhdGVEb21Ob2RlKCdkaXYnLCAndmlydHVhbC1rZXlib3JkJyk7XHJcbmNvbnN0IHRleHRhcmVhID0gY3JlYXRlRG9tTm9kZSgndGV4dGFyZWEnLCAndGV4dGFyZWEnKTtcclxudGV4dGFyZWEuc2V0QXR0cmlidXRlKCdyb3dzJywgNSk7XHJcbnRleHRhcmVhLnNldEF0dHJpYnV0ZSgnY29scycsIDUwKTtcclxuY29uc3QgbGFuZyA9IGdldExhbmd1YWdlKCk7XHJcbmNvbnN0IGtleWJvcmQgPSBuZXcgS2V5Ym9yZChsYW5nKS5jcmVhdGVLZXlib3JkKCk7XHJcbmNvbnN0IGRlc2NyaXB0aW9uID0gY3JlYXRlRG9tTm9kZSgncCcsICdkZXNjcmlwdGlvbicpO1xyXG5jb25zdCBsYW5ndWFnZSA9IGNyZWF0ZURvbU5vZGUoJ3AnLCAnbGFuZ3VhZ2UnKTtcclxuZGVzY3JpcHRpb24uaW5uZXJUZXh0ID0gJ9Ca0LvQsNCy0LjQsNGC0YPRgNCwINGB0L7Qt9C00LDQvdCwINCyINC+0L/QtdGA0LDRhtC40L7QvdC90L7QuSDRgdC40YHRgtC10LzQtSBXaW5kb3dzJztcclxubGFuZ3VhZ2UuaW5uZXJUZXh0ID0gJ9CU0LvRjyDQv9C10YDQtdC60LvRjtGH0LXQvdC40Y8g0Y/Qt9GL0LrQsCDQutC+0LzQsdC40L3QsNGG0LjRjyBDdHJsICsgQWx0JztcclxuXHJcbmRvY3VtZW50LmJvZHkuYXBwZW5kKG1haW4pO1xyXG5tYWluLmFwcGVuZCh2aXJ0dWFsS2V5Ym9yZCk7XHJcbnZpcnR1YWxLZXlib3JkLmFwcGVuZCh0ZXh0YXJlYSk7XHJcbnZpcnR1YWxLZXlib3JkLmFwcGVuZChrZXlib3JkKTtcclxubWFpbi5hcHBlbmQoZGVzY3JpcHRpb24pO1xyXG5tYWluLmFwcGVuZChsYW5ndWFnZSk7XHJcbmNvbnN0IHZpcnR1YWxLZXlzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmtleScpO1xyXG5cclxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uIG9ubG9hZCgpIHtcclxuICBhZGRWaXJ0dWFsS2V5TW91c2VEb3duSGFuZGxlcigpO1xyXG4gIGFkZEtleWRvd25IYW5kbGVyKCk7XHJcbiAgYWRkTW91c2VVcEhhbmRsZXIoKTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgY2hhbmdlTGFuZ3VhZ2UpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gYWRkVmlydHVhbEtleU1vdXNlRG93bkhhbmRsZXIoKSB7XHJcbiAgbGV0IGtleSA9ICcnO1xyXG4gIGtleWJvcmQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2ZW50KSA9PiB7XHJcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAga2V5ID0gZXZlbnQudGFyZ2V0O1xyXG4gICAgaWYgKGtleS5jbGFzc0xpc3QuY29udGFpbnMoJ2tleScpKSB7XHJcbiAgICAgIGtleWJvcmQuZGF0YXNldC5rZXkgPSBrZXkuZGF0YXNldC5jb2RlO1xyXG4gICAgICBoaWdobGlnaHRLZXkoa2V5KTtcclxuICAgICAgcHJpbnQoZXZlbnQpO1xyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcbmZ1bmN0aW9uIGFkZEtleWRvd25IYW5kbGVyKCkge1xyXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcclxuICAgIHZpcnR1YWxLZXlzLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICBpZiAoZXZlbnQuY29kZSA9PT0ga2V5LmRhdGFzZXQuY29kZSkge1xyXG4gICAgICAgIGtleS5jbGFzc0xpc3QuYWRkKCdrZXktcHVzaCcpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9KTtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldmVudCkgPT4ge1xyXG4gICAgaWYgKGV2ZW50LmdldE1vZGlmaWVyU3RhdGUoJ0NhcHNMb2NrJykpIHtcclxuICAgICAgd2luZG93LmNvbnNvbGUubG9nKCdnZXRtb2QnKTtcclxuICAgICAga2V5Ym9yZC5jbGFzc0xpc3QuYWRkKCdjYXBzLWxvY2snKTtcclxuICAgICAgdmlydHVhbEtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgICAga2V5LmNsYXNzTGlzdC5yZW1vdmUoJ2tleS1wdXNoJyk7XHJcbiAgICAgICAgaWYgKCFrZXkuY2xhc3NMaXN0LmNvbnRhaW5zKCdrZXlfZGFyaycpKSB7XHJcbiAgICAgICAgICBrZXkuY2xhc3NMaXN0LmFkZCgna2V5X3VwcGVyQ2FzZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBrZXlib3JkLmNsYXNzTGlzdC5yZW1vdmUoJ2NhcHMtbG9jaycpO1xyXG4gICAgICB2aXJ0dWFsS2V5cy5mb3JFYWNoKChrZXkpID0+IHtcclxuICAgICAgICBrZXkuY2xhc3NMaXN0LnJlbW92ZSgna2V5LXB1c2gnKTtcclxuICAgICAgICBpZiAoIWtleS5jbGFzc0xpc3QuY29udGFpbnMoJ2tleV9kYXJrJykpIHtcclxuICAgICAgICAgIGtleS5jbGFzc0xpc3QucmVtb3ZlKCdrZXlfdXBwZXJDYXNlJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcHJpbnQoZXZlbnQpIHtcclxuICBjb25zdCBlbGVtZW50ID0gZXZlbnQudGFyZ2V0O1xyXG4gIGlmIChldmVudC5zaGlmdEtleSkge1xyXG4gICAgYXBwbHlTaGlmdEtleShldmVudCk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBhcHBseVNoaWZ0S2V5KTtcclxuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgY2FuY2VsU2hpZnRLZXkpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0dXJuT2ZmU2hpZnQpO1xyXG4gIH1cclxuICBpZiAoIWVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdrZXlfZGFyaycpKSB7XHJcbiAgICBpZiAoZWxlbWVudC5kYXRhc2V0LmNvZGUgPT09ICdTcGFjZScpIHtcclxuICAgICAgdGV4dGFyZWEuc2V0UmFuZ2VUZXh0KCcgJywgdGV4dGFyZWEuc2VsZWN0aW9uU3RhcnQsIHRleHRhcmVhLnNlbGVjdGlvbkVuZCwgJ2VuZCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGV4dGFyZWEuc2V0UmFuZ2VUZXh0KGVsZW1lbnQuaW5uZXJUZXh0LCB0ZXh0YXJlYS5zZWxlY3Rpb25TdGFydCwgdGV4dGFyZWEuc2VsZWN0aW9uRW5kLCAnZW5kJyk7XHJcbiAgICB9XHJcbiAgICB0ZXh0YXJlYS5mb2N1cygpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBzd2l0Y2ggKGVsZW1lbnQuZGF0YXNldC5jb2RlKSB7XHJcbiAgICAgIGNhc2UgJ0JhY2tzcGFjZSc6XHJcbiAgICAgICAgdGV4dGFyZWEuc2V0UmFuZ2VUZXh0KCcnLCB0ZXh0YXJlYS5zZWxlY3Rpb25TdGFydCAtIDEsIHRleHRhcmVhLnNlbGVjdGlvbkVuZCwgJ2VuZCcpO1xyXG4gICAgICAgIHRleHRhcmVhLmZvY3VzKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ0RlbGV0ZSc6XHJcbiAgICAgICAgdGV4dGFyZWEuc2V0UmFuZ2VUZXh0KCcnLCB0ZXh0YXJlYS5zZWxlY3Rpb25TdGFydCwgdGV4dGFyZWEuc2VsZWN0aW9uRW5kICsgMSwgJ3NlbGVjdCcpO1xyXG4gICAgICAgIHRleHRhcmVhLmZvY3VzKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ0VudGVyJzpcclxuICAgICAgICB0ZXh0YXJlYS5zZXRSYW5nZVRleHQoJ1xcbicsIHRleHRhcmVhLnNlbGVjdGlvblN0YXJ0LCB0ZXh0YXJlYS5zZWxlY3Rpb25FbmQsICdlbmQnKTtcclxuICAgICAgICB0ZXh0YXJlYS5mb2N1cygpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBjYXNlICdUYWInOlxyXG4gICAgICAgIHRleHRhcmVhLnNldFJhbmdlVGV4dCgnXFx0JywgdGV4dGFyZWEuc2VsZWN0aW9uU3RhcnQsIHRleHRhcmVhLnNlbGVjdGlvbkVuZCwgJ2VuZCcpO1xyXG4gICAgICAgIHRleHRhcmVhLmZvY3VzKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ0NhcHNMb2NrJzpcclxuICAgICAgICBrZXlib3JkLmNsYXNzTGlzdC50b2dnbGUoJ2NhcHMtbG9jaycpO1xyXG4gICAgICAgIHZpcnR1YWxLZXlzLmZvckVhY2goKGVsKSA9PiB7XHJcbiAgICAgICAgICBpZiAoIWVsLmNsYXNzTGlzdC5jb250YWlucygna2V5X2RhcmsnKSkge1xyXG4gICAgICAgICAgICBlbC5jbGFzc0xpc3QudG9nZ2xlKCdrZXlfdXBwZXJDYXNlJyk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ0Fycm93VXAnOlxyXG4gICAgICAgIHRleHRhcmVhLnNldFJhbmdlVGV4dChlbGVtZW50LmlubmVyVGV4dCwgdGV4dGFyZWEuc2VsZWN0aW9uU3RhcnQsIHRleHRhcmVhLnNlbGVjdGlvbkVuZCwgJ2VuZCcpO1xyXG4gICAgICAgIHRleHRhcmVhLmZvY3VzKCk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIGNhc2UgJ0Fycm93TGVmdCc6XHJcbiAgICAgICAgdGV4dGFyZWEuc2V0UmFuZ2VUZXh0KGVsZW1lbnQuaW5uZXJUZXh0LCB0ZXh0YXJlYS5zZWxlY3Rpb25TdGFydCwgdGV4dGFyZWEuc2VsZWN0aW9uRW5kLCAnZW5kJyk7XHJcbiAgICAgICAgdGV4dGFyZWEuZm9jdXMoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnQXJyb3dSaWdodCc6XHJcbiAgICAgICAgdGV4dGFyZWEuc2V0UmFuZ2VUZXh0KGVsZW1lbnQuaW5uZXJUZXh0LCB0ZXh0YXJlYS5zZWxlY3Rpb25TdGFydCwgdGV4dGFyZWEuc2VsZWN0aW9uRW5kLCAnZW5kJyk7XHJcbiAgICAgICAgdGV4dGFyZWEuZm9jdXMoKTtcclxuICAgICAgICBicmVhaztcclxuICAgICAgY2FzZSAnQXJyb3dEb3duJzpcclxuICAgICAgICB0ZXh0YXJlYS5zZXRSYW5nZVRleHQoZWxlbWVudC5pbm5lclRleHQsIHRleHRhcmVhLnNlbGVjdGlvblN0YXJ0LCB0ZXh0YXJlYS5zZWxlY3Rpb25FbmQsICdlbmQnKTtcclxuICAgICAgICB0ZXh0YXJlYS5mb2N1cygpO1xyXG4gICAgICAgIGJyZWFrO1xyXG4gICAgICBkZWZhdWx0OlxyXG4gICAgICAgIHRleHRhcmVhLmZvY3VzKCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRNb3VzZVVwSGFuZGxlcigpIHtcclxuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Nb3VzZXVwKTtcclxufVxyXG5mdW5jdGlvbiBvbk1vdXNldXAoZXZlbnQpIHtcclxuICBsZXQgZWxlbSA9ICcnO1xyXG4gIHZpcnR1YWxLZXlzLmZvckVhY2goKGVsKSA9PiB7XHJcbiAgICBpZiAoZWwuZGF0YXNldC5jb2RlID09PSBrZXlib3JkLmRhdGFzZXQua2V5KSB7XHJcbiAgICAgIGVsZW0gPSBlbDtcclxuICAgICAgaWYgKGV2ZW50LnRhcmdldC5kYXRhc2V0LmNvZGUgIT09IGVsZW0uZGF0YXNldC5jb2RlKSB7XHJcbiAgICAgICAgaWYgKGVsZW0uZGF0YXNldC5jb2RlID09PSAnU2hpZnRMZWZ0JyB8fCBlbGVtLmRhdGFzZXQuY29kZSA9PT0gJ1NoaWZ0UmlnaHQnKSB7XHJcbiAgICAgICAgICBrZXlib3JkLmRhdGFzZXQuc2hpZnRLZXkgPSAndHJ1ZSc7XHJcbiAgICAgICAgICBoaWdobGlnaHRLZXkoZWxlbSk7XHJcbiAgICAgICAgICBhcHBseVNoaWZ0S2V5KGV2ZW50KTtcclxuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIGFwcGx5U2hpZnRLZXkpO1xyXG4gICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBjYW5jZWxTaGlmdEtleSk7XHJcbiAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHR1cm5PZmZTaGlmdCk7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlbGVtLmRhdGFzZXQuY29kZSA9PT0gJ0NvbnRyb2xMZWZ0JyB8fCBlbGVtLmRhdGFzZXQuY29kZSA9PT0gJ0NvbnRyb2xSaWdodCcpIHtcclxuICAgICAgICAgIGhpZ2hsaWdodEtleShlbGVtKTtcclxuICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hhbmdlTGFuZ3VhZ2UpO1xyXG4gICAgICAgIH1cclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICByZW1vdmVIaWdobGlnaHQoZWwpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfSk7XHJcbn1cclxuZnVuY3Rpb24gYXBwbHlTaGlmdEtleShldmVudCkge1xyXG4gIGlmICgoZXZlbnQuc2hpZnRLZXkgfHwga2V5Ym9yZC5kYXRhc2V0LnNoaWZ0S2V5ID09PSAndHJ1ZScpICYmIGlzQ2hhcihldmVudCkpIHtcclxuICAgIGlmIChpc0xldHRlcihldmVudCkpIHtcclxuICAgICAgaWYgKGtleWJvcmQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXBzLWxvY2snKSkge1xyXG4gICAgICAgIGV2ZW50LnRhcmdldC5jbGFzc0xpc3QucmVtb3ZlKCdrZXlfdXBwZXJDYXNlJyk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5hZGQoJ2tleV91cHBlckNhc2UnKTtcclxuICAgICAgfVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29uc3Qga2V5ID0gZmluZE9iaktleShldmVudCk7XHJcbiAgICAgIGlmIChrZXlib3JkLmRhdGFzZXQubGFuZ3VhZ2UgPT09ICdydScpIHtcclxuICAgICAgICBldmVudC50YXJnZXQuaW5uZXJUZXh0ID0ga2V5WzFdLnNoaWZ0UnU7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZXZlbnQudGFyZ2V0LmlubmVyVGV4dCA9IGtleVsxXS5zaGlmdEVuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjYW5jZWxTaGlmdEtleShldmVudCkge1xyXG4gIGlmIChpc0NoYXIoZXZlbnQpKSB7XHJcbiAgICBpZiAoaXNMZXR0ZXIoZXZlbnQpKSB7XHJcbiAgICAgIGlmICgha2V5Ym9yZC5jbGFzc0xpc3QuY29udGFpbnMoJ2NhcHMtbG9jaycpKSB7XHJcbiAgICAgICAgZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5yZW1vdmUoJ2tleV91cHBlckNhc2UnKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBldmVudC50YXJnZXQuY2xhc3NMaXN0LmFkZCgna2V5X3VwcGVyQ2FzZScpO1xyXG4gICAgICB9XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBrZXkgPSBmaW5kT2JqS2V5KGV2ZW50KTtcclxuICAgICAgaWYgKGtleWJvcmQuZGF0YXNldC5sYW5ndWFnZSA9PT0gJ3J1Jykge1xyXG4gICAgICAgIGV2ZW50LnRhcmdldC5pbm5lclRleHQgPSBrZXlbMV0uY2hhclJ1O1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGV2ZW50LnRhcmdldC5pbm5lclRleHQgPSBrZXlbMV0uY2hhckVuO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbmZ1bmN0aW9uIHR1cm5PZmZTaGlmdChldmVudCkge1xyXG4gIGlmICgoZXZlbnQudGFyZ2V0LmRhdGFzZXQuY29kZSA9PT0gJ1NoaWZ0TGVmdCcgfHwgZXZlbnQudGFyZ2V0LmRhdGFzZXQuY29kZSA9PT0gJ1NoaWZ0UmlnaHQnKSAmJiBrZXlib3JkLmRhdGFzZXQuc2hpZnRLZXkgPT09ICd0cnVlJykge1xyXG4gICAga2V5Ym9yZC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCBhcHBseVNoaWZ0S2V5KTtcclxuICAgIGtleWJvcmQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBjYW5jZWxTaGlmdEtleSk7XHJcbiAgICBrZXlib3JkLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdHVybk9mZlNoaWZ0KTtcclxuICAgIHJlbW92ZUhpZ2hsaWdodChldmVudC50YXJnZXQpO1xyXG4gICAga2V5Ym9yZC5kYXRhc2V0LnNoaWZ0S2V5ID0gJ2ZhbHNlJztcclxuICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoYW5nZUxhbmd1YWdlKGV2ZW50KSB7XHJcbiAgaWYgKGV2ZW50LnRhcmdldC5kYXRhc2V0LmNvZGUgPT09ICdBbHRMZWZ0JyB8fCBldmVudC50YXJnZXQuZGF0YXNldC5jb2RlID09PSAnQWx0UmlnaHQnIHx8IChldmVudC5hbHRLZXkgJiYgZXZlbnQuY3RybEtleSkpIHtcclxuICAgIGNoYW5nZUlubmVyVGV4dCgpO1xyXG4gICAgaWYgKGtleWJvcmQuZGF0YXNldC5sYW5ndWFnZSA9PT0gJ2VuJykge1xyXG4gICAgICBrZXlib3JkLmRhdGFzZXQubGFuZ3VhZ2UgPSAncnUnO1xyXG4gICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbGFuZycsICdydScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAga2V5Ym9yZC5kYXRhc2V0Lmxhbmd1YWdlID0gJ2VuJztcclxuICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2xhbmcnLCAnZW4nKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuZnVuY3Rpb24gY2hhbmdlSW5uZXJUZXh0KCkge1xyXG4gIGlmIChrZXlib3JkLmRhdGFzZXQubGFuZ3VhZ2UgPT09ICdlbicpIHtcclxuICAgIHZpcnR1YWxLZXlzLmZvckVhY2goKGtleSkgPT4ge1xyXG4gICAgICBpZiAoa2V5LmNsYXNzTGlzdC5jb250YWlucygna2V5X3VwcGVyQ2FzZScpKSB7XHJcbiAgICAgICAga2V5LmlubmVyVGV4dCA9IExFVFRFUlNydS5nZXQoa2V5LmlubmVyVGV4dC50b0xvd2VyQ2FzZSgpKSB8fCBrZXkuaW5uZXJUZXh0O1xyXG4gICAgICAgIGtleS5pbm5lclRleHQudG9VcHBlckNhc2UoKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICBrZXkuaW5uZXJUZXh0ID0gTEVUVEVSU3J1LmdldChrZXkuaW5uZXJUZXh0KSB8fCBrZXkuaW5uZXJUZXh0O1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9IGVsc2Uge1xyXG4gICAgdmlydHVhbEtleXMuZm9yRWFjaCgoa2V5KSA9PiB7XHJcbiAgICAgIGlmIChrZXkuY2xhc3NMaXN0LmNvbnRhaW5zKCdrZXlfdXBwZXJDYXNlJykpIHtcclxuICAgICAgICBrZXkuaW5uZXJUZXh0ID0gTEVUVEVSU2VuLmdldChrZXkuaW5uZXJUZXh0LnRvTG93ZXJDYXNlKCkpIHx8IGtleS5pbm5lclRleHQ7XHJcbiAgICAgICAga2V5LmlubmVyVGV4dC50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGtleS5pbm5lclRleHQgPSBMRVRURVJTZW4uZ2V0KGtleS5pbm5lclRleHQpIHx8IGtleS5pbm5lclRleHQ7XHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxufVxyXG5mdW5jdGlvbiBnZXRMYW5ndWFnZSgpIHtcclxuICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2xhbmcnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaXNDaGFyKGV2ZW50KSB7XHJcbiAgcmV0dXJuIChldmVudC50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdrZXknKSAmJiAhZXZlbnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygna2V5X2RhcmsnKSk7XHJcbn1cclxuZnVuY3Rpb24gaXNMZXR0ZXIoZXZlbnQpIHtcclxuICByZXR1cm4gKGV2ZW50LnRhcmdldC5kYXRhc2V0LmNvZGUuc3RhcnRzV2l0aCgnS2V5JykpO1xyXG59XHJcbmZ1bmN0aW9uIGZpbmRPYmpLZXkoZXZlbnQpIHtcclxuICByZXR1cm4gT2JqZWN0LmVudHJpZXMoa2V5cykuZmluZCgoZWwpID0+IGVsWzBdID09PSBldmVudC50YXJnZXQuZGF0YXNldC5jb2RlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGlnaGxpZ2h0S2V5KGVsZW1lbnQpIHtcclxuICBlbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2tleS1wdXNoJyk7XHJcbn1cclxuZnVuY3Rpb24gcmVtb3ZlSGlnaGxpZ2h0KGVsZW1lbnQpIHtcclxuICBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2tleS1wdXNoJyk7XHJcbn1cclxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///915\n")}},__webpack_exports__={};__webpack_modules__[915]()})();